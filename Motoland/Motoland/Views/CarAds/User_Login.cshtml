@using System.Linq


<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MotoLand</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <link rel="stylesheet" href="~/css/User_Login.css">
</head>
<body>

    <!-- Header -->
    <header class="header">
        <h1 class="motoland"><a href="">MotoLand</a></h1>
    </header>

    <!-- Main Section -->
    <main class="main">
        <div class="container" />
            <h1>Znajdź swoje wymarzone auto</h1>

            <!-- Filter Section -->
            <section class="filters">
                <h2>Filtry wyszukiwania</h2>
                <form id="car-search-form">
                    <div class="filter-group">
                        <div>
                            <label for="car-brand">Marka:</label>
                            <input type="text" id="car-brand" name="car_brand" placeholder="Marka">
                        </div>
                        <div>
                            <label for="car-model">Model:</label>
                            <input type="text" id="car-model" name="car_model" placeholder="Model">
                        </div>
                        <div>
                            <label for="car-year">Rok:</label>
                            <input type="number" id="car-year" name="car_year" placeholder="Rok">
                        </div>
                        <div>
                            <label for="car-price">Cena:</label>
                            <input type="number" id="car-price" name="car_price" placeholder="Cena">
                        </div>
                        <div>
                            <label for="car-mileage">Przebieg:</label>
                            <input type="number" id="car-mileage" name="car_mileage" placeholder="Przebieg">
                        </div>
                        <div>
                            <label for="engine-capacity">Poj. Silnika:</label>
                            <input type="number" id="engine-capacity" name="engine_capacity" placeholder="Poj. Silnika">
                        </div>
                    </div>
                    <div>
                        <button type="submit">Szukaj</button>
                    </div>
                </form>
        
            </section>
        
            <h2>Lista ogłoszeń</h2>

            <!-- Button to Add Advertisement -->
        <form asp-action="Create" method="post" enctype="multipart/form-data">
            <!-- Поля формы -->
            <button class="auth-buttons" type="submit">Создать</button>
        </form>


        <h2>Список объявлений</h2>
        <div class="car-ads">
        @if (Model != null && Model.Count > 0)
        {
            <ul>
                @foreach (var ad in Model)
                {
                    <li>
                        <h3>@ad.Make @ad.Model (@ad.Year)</h3>
                        <p><strong>Цена:</strong> @ad.Price.ToString("C")</p>
                        <p><strong>Описание:</strong> @ad.Description</p>
                        <div>
                            @if (!string.IsNullOrEmpty(ad.ImagePaths))
                            {
                                var imagePathList = ad.ImagePaths.Split(",");
                                foreach (var imagePath in imagePathList)
                                {
                                    <img src="@imagePath" alt="Car image" style="max-width: 200px; height: auto;" />
                                }
                            }
                        </div>
                        <div class="ad-actions">
                            
                        
                        <!-- Кнопка Edit -->
                        <a href="@Url.Action("Edit", "CarAds", new { id = ad.Id })">Edytuj</a>

                        <!-- Кнопка Delete -->
                        <form asp-action="Delete" asp-route-id="@ad.Id" method="post" style="display:inline;">
                            <a href="@Url.Action("Delete", "CarAds", new { id = ad.Id })">Usuń</a>
                            </form>
                        </div>
                    </li>
                }
            </ul>
        }
        else
        {
            <p>Нет доступных объявлений.</p>
        }
        </div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        &copy; 2024 MotoLand. Wszelkie prawa zastrzeżone. | <a href="/Privacy">Polityka prywatności</a>
    </footer>

</body>
</html>
